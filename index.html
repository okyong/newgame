<!doctype html>
<html>
  <head>
    <title>Trust Wallet Payment</title>
<script>
	function myFunction() {
  alert("Withdraw requested!");
}
</script>
<style>

.tip-button {
  width: 304px;
  height: 120px;
  background-size: 100%;
  background-image: url('images/buynow.png');
  cursor: pointer;
}

.withdraw {
  width: 304px;
  height: 90px;
  background-size: 100%;
  background-image: url('images/withdraw.png');
  cursor: pointer;
}

</style>


  </head>

  <body>
  <h1>TrustWallet Test</h1>
    <div class="tip-button"></div>
	<div class="withdraw"></div>	
    <div class="message" onclick="myFunction()"></div>
  </body>

<script>

var MY_ADDRESS = '0xAD9331F074578D8E1c8547CbAD6f7629Fb93d142'

var tipButton = document.querySelector('.tip-button')

tipButton.addEventListener('click', function() {

  if (typeof web3 === 'undefined') {
    return renderMessage('<div>You need to install <a href=“https://metmask.io“>MetaMask </a> to use this feature.  <a href=“https://metmask.io“>https://metamask.io</a></div>')
  }

  var user_address = web3.eth.accounts[0]

  web3.eth.sendTransaction({
    to: MY_ADDRESS,
    from: user_address,
    value: web3.toWei('0.01', 'ether'),
  }, function (err, transactionHash) {
    if (err) return renderMessage('There was a problem!: ' + err.message)

    // If you get a transactionHash, you can assume it was sent,
    // or if you want to guarantee it was received, you can poll
    // for that transaction to be mined first.
    renderMessage('Thanks for the generosity!!')
  })
})


function renderMessage (message) {
  var messageEl = document.querySelector('.message')
  messageEl.innerHTML = message
}

</script>

</html>
